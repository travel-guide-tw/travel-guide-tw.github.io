import{b0 as un,b1 as Nn,b2 as ln,b3 as fn,b4 as dn,b5 as ue,b6 as Pn,aI as Vn,_ as f,g as zn,s as Rn,t as Bn,q as Zn,a as qn,b as Xn,c as Ft,d as Qt,e as Gn,b7 as rt,l as xt,k as jn,j as Qn,z as Jn,u as Kn}from"../app.CyBcRGbA.js";import{b as tr,t as Ve,c as er,a as nr,l as rr}from"./linear.GFcVky5Y.js";import{i as ir}from"./init.Gi6I4Gst.js";import"./framework.BtqC3pLB.js";import"./theme.TKXkY4-5.js";import"./defaultLocale.C4B-KCzX.js";function ar(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function sr(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function or(t){return t}var Kt=1,le=2,we=3,Jt=4,ze=1e-6;function cr(t){return"translate("+t+",0)"}function ur(t){return"translate(0,"+t+")"}function lr(t){return e=>+t(e)}function fr(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function dr(){return!this.__axis}function hn(t,e){var n=[],r=null,i=null,a=6,o=6,d=3,p=typeof window<"u"&&window.devicePixelRatio>1?0:.5,x=t===Kt||t===Jt?-1:1,k=t===Jt||t===le?"x":"y",E=t===Kt||t===we?cr:ur;function Y(T){var $=r??(e.ticks?e.ticks.apply(e,n):e.domain()),F=i??(e.tickFormat?e.tickFormat.apply(e,n):or),Z=Math.max(a,0)+d,R=e.range(),Q=+R[0]+p,P=+R[R.length-1]+p,B=(e.bandwidth?fr:lr)(e.copy(),p),G=T.selection?T.selection():T,h=G.selectAll(".domain").data([null]),m=G.selectAll(".tick").data($,e).order(),y=m.exit(),v=m.enter().append("g").attr("class","tick"),S=m.select("line"),_=m.select("text");h=h.merge(h.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),m=m.merge(v),S=S.merge(v.append("line").attr("stroke","currentColor").attr(k+"2",x*a)),_=_.merge(v.append("text").attr("fill","currentColor").attr(k,x*Z).attr("dy",t===Kt?"0em":t===we?"0.71em":"0.32em")),T!==G&&(h=h.transition(T),m=m.transition(T),S=S.transition(T),_=_.transition(T),y=y.transition(T).attr("opacity",ze).attr("transform",function(C){return isFinite(C=B(C))?E(C+p):this.getAttribute("transform")}),v.attr("opacity",ze).attr("transform",function(C){var w=this.parentNode.__axis;return E((w&&isFinite(w=w(C))?w:B(C))+p)})),y.remove(),h.attr("d",t===Jt||t===le?o?"M"+x*o+","+Q+"H"+p+"V"+P+"H"+x*o:"M"+p+","+Q+"V"+P:o?"M"+Q+","+x*o+"V"+p+"H"+P+"V"+x*o:"M"+Q+","+p+"H"+P),m.attr("opacity",1).attr("transform",function(C){return E(B(C)+p)}),S.attr(k+"2",x*a),_.attr(k,x*Z).text(F),G.filter(dr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===le?"start":t===Jt?"end":"middle"),G.each(function(){this.__axis=B})}return Y.scale=function(T){return arguments.length?(e=T,Y):e},Y.ticks=function(){return n=Array.from(arguments),Y},Y.tickArguments=function(T){return arguments.length?(n=T==null?[]:Array.from(T),Y):n.slice()},Y.tickValues=function(T){return arguments.length?(r=T==null?null:Array.from(T),Y):r&&r.slice()},Y.tickFormat=function(T){return arguments.length?(i=T,Y):i},Y.tickSize=function(T){return arguments.length?(a=o=+T,Y):a},Y.tickSizeInner=function(T){return arguments.length?(a=+T,Y):a},Y.tickSizeOuter=function(T){return arguments.length?(o=+T,Y):o},Y.tickPadding=function(T){return arguments.length?(d=+T,Y):d},Y.offset=function(T){return arguments.length?(p=+T,Y):p},Y}function hr(t){return hn(Kt,t)}function mr(t){return hn(we,t)}const gr=Math.PI/180,yr=180/Math.PI,re=18,mn=.96422,gn=1,yn=.82521,kn=4/29,Ut=6/29,vn=3*Ut*Ut,kr=Ut*Ut*Ut;function pn(t){if(t instanceof ft)return new ft(t.l,t.a,t.b,t.opacity);if(t instanceof gt)return Tn(t);t instanceof un||(t=Nn(t));var e=me(t.r),n=me(t.g),r=me(t.b),i=fe((.2225045*e+.7168786*n+.0606169*r)/gn),a,o;return e===n&&n===r?a=o=i:(a=fe((.4360747*e+.3850649*n+.1430804*r)/mn),o=fe((.0139322*e+.0971045*n+.7141733*r)/yn)),new ft(116*i-16,500*(a-i),200*(i-o),t.opacity)}function vr(t,e,n,r){return arguments.length===1?pn(t):new ft(t,e,n,r??1)}function ft(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}ln(ft,vr,fn(dn,{brighter(t){return new ft(this.l+re*(t??1),this.a,this.b,this.opacity)},darker(t){return new ft(this.l-re*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=mn*de(e),t=gn*de(t),n=yn*de(n),new un(he(3.1338561*e-1.6168667*t-.4906146*n),he(-.9787684*e+1.9161415*t+.033454*n),he(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function fe(t){return t>kr?Math.pow(t,1/3):t/vn+kn}function de(t){return t>Ut?t*t*t:vn*(t-kn)}function he(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function me(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function pr(t){if(t instanceof gt)return new gt(t.h,t.c,t.l,t.opacity);if(t instanceof ft||(t=pn(t)),t.a===0&&t.b===0)return new gt(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*yr;return new gt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function De(t,e,n,r){return arguments.length===1?pr(t):new gt(t,e,n,r??1)}function gt(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Tn(t){if(isNaN(t.h))return new ft(t.l,0,0,t.opacity);var e=t.h*gr;return new ft(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}ln(gt,De,fn(dn,{brighter(t){return new gt(this.h,this.c,this.l+re*(t??1),this.opacity)},darker(t){return new gt(this.h,this.c,this.l-re*(t??1),this.opacity)},rgb(){return Tn(this).rgb()}}));function Tr(t){return function(e,n){var r=t((e=De(e)).h,(n=De(n)).h),i=ue(e.c,n.c),a=ue(e.l,n.l),o=ue(e.opacity,n.opacity);return function(d){return e.h=r(d),e.c=i(d),e.l=a(d),e.opacity=o(d),e+""}}}const br=Tr(Pn);function xr(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}const ge=new Date,ye=new Date;function K(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),d=i.ceil(a);return a-o<d-a?o:d},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,d)=>{const p=[];if(a=i.ceil(a),d=d==null?1:Math.floor(d),!(a<o)||!(d>0))return p;let x;do p.push(x=new Date(+a)),e(a,d),t(a);while(x<a&&a<o);return p},i.filter=a=>K(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,d)=>{if(o>=o)if(d<0)for(;++d<=0;)for(;e(o,-1),!a(o););else for(;--d>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(ge.setTime(+a),ye.setTime(+o),t(ge),t(ye),Math.floor(n(ge,ye))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Et=K(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Et.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?K(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Et);Et.range;const yt=1e3,st=yt*60,kt=st*60,vt=kt*24,Ye=vt*7,Re=vt*30,ke=vt*365,Tt=K(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yt)},(t,e)=>(e-t)/yt,t=>t.getUTCSeconds());Tt.range;const Pt=K(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yt)},(t,e)=>{t.setTime(+t+e*st)},(t,e)=>(e-t)/st,t=>t.getMinutes());Pt.range;const wr=K(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*st)},(t,e)=>(e-t)/st,t=>t.getUTCMinutes());wr.range;const Vt=K(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yt-t.getMinutes()*st)},(t,e)=>{t.setTime(+t+e*kt)},(t,e)=>(e-t)/kt,t=>t.getHours());Vt.range;const Dr=K(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*kt)},(t,e)=>(e-t)/kt,t=>t.getUTCHours());Dr.range;const wt=K(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*st)/vt,t=>t.getDate()-1);wt.range;const Fe=K(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vt,t=>t.getUTCDate()-1);Fe.range;const Mr=K(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vt,t=>Math.floor(t/vt));Mr.range;function Ct(t){return K(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*st)/Ye)}const Bt=Ct(0),zt=Ct(1),bn=Ct(2),xn=Ct(3),Dt=Ct(4),wn=Ct(5),Dn=Ct(6);Bt.range;zt.range;bn.range;xn.range;Dt.range;wn.range;Dn.range;function St(t){return K(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ye)}const Mn=St(0),ie=St(1),Cr=St(2),Sr=St(3),Lt=St(4),_r=St(5),Yr=St(6);Mn.range;ie.range;Cr.range;Sr.range;Lt.range;_r.range;Yr.range;const Rt=K(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Rt.range;const Fr=K(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Fr.range;const pt=K(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());pt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:K(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});pt.range;const Mt=K(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Mt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:K(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Mt.range;function Ur(t,e,n,r,i,a){const o=[[Tt,1,yt],[Tt,5,5*yt],[Tt,15,15*yt],[Tt,30,30*yt],[a,1,st],[a,5,5*st],[a,15,15*st],[a,30,30*st],[i,1,kt],[i,3,3*kt],[i,6,6*kt],[i,12,12*kt],[r,1,vt],[r,2,2*vt],[n,1,Ye],[e,1,Re],[e,3,3*Re],[t,1,ke]];function d(x,k,E){const Y=k<x;Y&&([x,k]=[k,x]);const T=E&&typeof E.range=="function"?E:p(x,k,E),$=T?T.range(x,+k+1):[];return Y?$.reverse():$}function p(x,k,E){const Y=Math.abs(k-x)/E,T=tr(([,,Z])=>Z).right(o,Y);if(T===o.length)return t.every(Ve(x/ke,k/ke,E));if(T===0)return Et.every(Math.max(Ve(x,k,E),1));const[$,F]=o[Y/o[T-1][2]<o[T][2]/Y?T-1:T];return $.every(F)}return[d,p]}const[Ir,Er]=Ur(pt,Rt,Bt,wt,Vt,Pt);function ve(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pe(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wt(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Lr(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,d=t.months,p=t.shortMonths,x=$t(i),k=Ot(i),E=$t(a),Y=Ot(a),T=$t(o),$=Ot(o),F=$t(d),Z=Ot(d),R=$t(p),Q=Ot(p),P={a:b,A:U,b:c,B:q,c:null,d:je,e:je,f:ri,g:hi,G:gi,H:ti,I:ei,j:ni,L:Cn,m:ii,M:ai,p:s,q:I,Q:Ke,s:tn,S:si,u:oi,U:ci,V:ui,w:li,W:fi,x:null,X:null,y:di,Y:mi,Z:yi,"%":Je},B={a:z,A:H,b:O,B:tt,c:null,d:Qe,e:Qe,f:Ti,g:Fi,G:Ii,H:ki,I:vi,j:pi,L:_n,m:bi,M:xi,p:L,q:ot,Q:Ke,s:tn,S:wi,u:Di,U:Mi,V:Ci,w:Si,W:_i,x:null,X:null,y:Yi,Y:Ui,Z:Ei,"%":Je},G={a:S,A:_,b:C,B:w,c:u,d:Xe,e:Xe,f:jr,g:qe,G:Ze,H:Ge,I:Ge,j:Zr,L:Gr,m:Br,M:qr,p:v,q:Rr,Q:Jr,s:Kr,S:Xr,u:Hr,U:Nr,V:Pr,w:Or,W:Vr,x:g,X:D,y:qe,Y:Ze,Z:zr,"%":Qr};P.x=h(n,P),P.X=h(r,P),P.c=h(e,P),B.x=h(n,B),B.X=h(r,B),B.c=h(e,B);function h(M,W){return function(N){var l=[],nt=-1,A=0,j=M.length,X,ct,dt;for(N instanceof Date||(N=new Date(+N));++nt<j;)M.charCodeAt(nt)===37&&(l.push(M.slice(A,nt)),(ct=Be[X=M.charAt(++nt)])!=null?X=M.charAt(++nt):ct=X==="e"?" ":"0",(dt=W[X])&&(X=dt(N,ct)),l.push(X),A=nt+1);return l.push(M.slice(A,nt)),l.join("")}}function m(M,W){return function(N){var l=Wt(1900,void 0,1),nt=y(l,M,N+="",0),A,j;if(nt!=N.length)return null;if("Q"in l)return new Date(l.Q);if("s"in l)return new Date(l.s*1e3+("L"in l?l.L:0));if(W&&!("Z"in l)&&(l.Z=0),"p"in l&&(l.H=l.H%12+l.p*12),l.m===void 0&&(l.m="q"in l?l.q:0),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(A=pe(Wt(l.y,0,1)),j=A.getUTCDay(),A=j>4||j===0?ie.ceil(A):ie(A),A=Fe.offset(A,(l.V-1)*7),l.y=A.getUTCFullYear(),l.m=A.getUTCMonth(),l.d=A.getUTCDate()+(l.w+6)%7):(A=ve(Wt(l.y,0,1)),j=A.getDay(),A=j>4||j===0?zt.ceil(A):zt(A),A=wt.offset(A,(l.V-1)*7),l.y=A.getFullYear(),l.m=A.getMonth(),l.d=A.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),j="Z"in l?pe(Wt(l.y,0,1)).getUTCDay():ve(Wt(l.y,0,1)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+l.W*7-(j+5)%7:l.w+l.U*7-(j+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,pe(l)):ve(l)}}function y(M,W,N,l){for(var nt=0,A=W.length,j=N.length,X,ct;nt<A;){if(l>=j)return-1;if(X=W.charCodeAt(nt++),X===37){if(X=W.charAt(nt++),ct=G[X in Be?W.charAt(nt++):X],!ct||(l=ct(M,N,l))<0)return-1}else if(X!=N.charCodeAt(l++))return-1}return l}function v(M,W,N){var l=x.exec(W.slice(N));return l?(M.p=k.get(l[0].toLowerCase()),N+l[0].length):-1}function S(M,W,N){var l=T.exec(W.slice(N));return l?(M.w=$.get(l[0].toLowerCase()),N+l[0].length):-1}function _(M,W,N){var l=E.exec(W.slice(N));return l?(M.w=Y.get(l[0].toLowerCase()),N+l[0].length):-1}function C(M,W,N){var l=R.exec(W.slice(N));return l?(M.m=Q.get(l[0].toLowerCase()),N+l[0].length):-1}function w(M,W,N){var l=F.exec(W.slice(N));return l?(M.m=Z.get(l[0].toLowerCase()),N+l[0].length):-1}function u(M,W,N){return y(M,e,W,N)}function g(M,W,N){return y(M,n,W,N)}function D(M,W,N){return y(M,r,W,N)}function b(M){return o[M.getDay()]}function U(M){return a[M.getDay()]}function c(M){return p[M.getMonth()]}function q(M){return d[M.getMonth()]}function s(M){return i[+(M.getHours()>=12)]}function I(M){return 1+~~(M.getMonth()/3)}function z(M){return o[M.getUTCDay()]}function H(M){return a[M.getUTCDay()]}function O(M){return p[M.getUTCMonth()]}function tt(M){return d[M.getUTCMonth()]}function L(M){return i[+(M.getUTCHours()>=12)]}function ot(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var W=h(M+="",P);return W.toString=function(){return M},W},parse:function(M){var W=m(M+="",!1);return W.toString=function(){return M},W},utcFormat:function(M){var W=h(M+="",B);return W.toString=function(){return M},W},utcParse:function(M){var W=m(M+="",!0);return W.toString=function(){return M},W}}}var Be={"-":"",_:" ",0:"0"},et=/^\s*\d+/,Ar=/^%/,Wr=/[\\^$*+?|[\]().{}]/g;function V(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function $r(t){return t.replace(Wr,"\\$&")}function $t(t){return new RegExp("^(?:"+t.map($r).join("|")+")","i")}function Ot(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Or(t,e,n){var r=et.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Hr(t,e,n){var r=et.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Nr(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Pr(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Vr(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ze(t,e,n){var r=et.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function qe(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function zr(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Rr(t,e,n){var r=et.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Br(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Xe(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Zr(t,e,n){var r=et.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Ge(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qr(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Xr(t,e,n){var r=et.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Gr(t,e,n){var r=et.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function jr(t,e,n){var r=et.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Qr(t,e,n){var r=Ar.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Jr(t,e,n){var r=et.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Kr(t,e,n){var r=et.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function je(t,e){return V(t.getDate(),e,2)}function ti(t,e){return V(t.getHours(),e,2)}function ei(t,e){return V(t.getHours()%12||12,e,2)}function ni(t,e){return V(1+wt.count(pt(t),t),e,3)}function Cn(t,e){return V(t.getMilliseconds(),e,3)}function ri(t,e){return Cn(t,e)+"000"}function ii(t,e){return V(t.getMonth()+1,e,2)}function ai(t,e){return V(t.getMinutes(),e,2)}function si(t,e){return V(t.getSeconds(),e,2)}function oi(t){var e=t.getDay();return e===0?7:e}function ci(t,e){return V(Bt.count(pt(t)-1,t),e,2)}function Sn(t){var e=t.getDay();return e>=4||e===0?Dt(t):Dt.ceil(t)}function ui(t,e){return t=Sn(t),V(Dt.count(pt(t),t)+(pt(t).getDay()===4),e,2)}function li(t){return t.getDay()}function fi(t,e){return V(zt.count(pt(t)-1,t),e,2)}function di(t,e){return V(t.getFullYear()%100,e,2)}function hi(t,e){return t=Sn(t),V(t.getFullYear()%100,e,2)}function mi(t,e){return V(t.getFullYear()%1e4,e,4)}function gi(t,e){var n=t.getDay();return t=n>=4||n===0?Dt(t):Dt.ceil(t),V(t.getFullYear()%1e4,e,4)}function yi(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+V(e/60|0,"0",2)+V(e%60,"0",2)}function Qe(t,e){return V(t.getUTCDate(),e,2)}function ki(t,e){return V(t.getUTCHours(),e,2)}function vi(t,e){return V(t.getUTCHours()%12||12,e,2)}function pi(t,e){return V(1+Fe.count(Mt(t),t),e,3)}function _n(t,e){return V(t.getUTCMilliseconds(),e,3)}function Ti(t,e){return _n(t,e)+"000"}function bi(t,e){return V(t.getUTCMonth()+1,e,2)}function xi(t,e){return V(t.getUTCMinutes(),e,2)}function wi(t,e){return V(t.getUTCSeconds(),e,2)}function Di(t){var e=t.getUTCDay();return e===0?7:e}function Mi(t,e){return V(Mn.count(Mt(t)-1,t),e,2)}function Yn(t){var e=t.getUTCDay();return e>=4||e===0?Lt(t):Lt.ceil(t)}function Ci(t,e){return t=Yn(t),V(Lt.count(Mt(t),t)+(Mt(t).getUTCDay()===4),e,2)}function Si(t){return t.getUTCDay()}function _i(t,e){return V(ie.count(Mt(t)-1,t),e,2)}function Yi(t,e){return V(t.getUTCFullYear()%100,e,2)}function Fi(t,e){return t=Yn(t),V(t.getUTCFullYear()%100,e,2)}function Ui(t,e){return V(t.getUTCFullYear()%1e4,e,4)}function Ii(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Lt(t):Lt.ceil(t),V(t.getUTCFullYear()%1e4,e,4)}function Ei(){return"+0000"}function Je(){return"%"}function Ke(t){return+t}function tn(t){return Math.floor(+t/1e3)}var Yt,ae;Li({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Li(t){return Yt=Lr(t),ae=Yt.format,Yt.parse,Yt.utcFormat,Yt.utcParse,Yt}function Ai(t){return new Date(t)}function Wi(t){return t instanceof Date?+t:+new Date(+t)}function Fn(t,e,n,r,i,a,o,d,p,x){var k=er(),E=k.invert,Y=k.domain,T=x(".%L"),$=x(":%S"),F=x("%I:%M"),Z=x("%I %p"),R=x("%a %d"),Q=x("%b %d"),P=x("%B"),B=x("%Y");function G(h){return(p(h)<h?T:d(h)<h?$:o(h)<h?F:a(h)<h?Z:r(h)<h?i(h)<h?R:Q:n(h)<h?P:B)(h)}return k.invert=function(h){return new Date(E(h))},k.domain=function(h){return arguments.length?Y(Array.from(h,Wi)):Y().map(Ai)},k.ticks=function(h){var m=Y();return t(m[0],m[m.length-1],h??10)},k.tickFormat=function(h,m){return m==null?G:x(m)},k.nice=function(h){var m=Y();return(!h||typeof h.range!="function")&&(h=e(m[0],m[m.length-1],h??10)),h?Y(xr(m,h)):k},k.copy=function(){return nr(k,Fn(t,e,n,r,i,a,o,d,p,x))},k}function $i(){return ir.apply(Fn(Ir,Er,pt,Rt,Bt,wt,Vt,Pt,Tt,ae).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Te="day",Oi="week",Hi="year",Ni="YYYY-MM-DDTHH:mm:ssZ",Pi="isoweek";const Vi=(function(t,e,n){var r=function(p,x){var k=(x?n.utc:n)().year(p).startOf(Hi),E=4-k.isoWeekday();return k.isoWeekday()>4&&(E+=7),k.add(E,Te)},i=function(p){return p.add(4-p.isoWeekday(),Te)},a=e.prototype;a.isoWeekYear=function(){var d=i(this);return d.year()},a.isoWeek=function(d){if(!this.$utils().u(d))return this.add((d-this.isoWeek())*7,Te);var p=i(this),x=r(this.isoWeekYear(),this.$u);return p.diff(x,Oi)+1},a.isoWeekday=function(d){return this.$utils().u(d)?this.day()||7:this.day(this.day()%7?d:d-7)};var o=a.startOf;a.startOf=function(d,p){var x=this.$utils(),k=x.u(p)?!0:p,E=x.p(d);return E===Pi?k?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(d,p)}});var zi=function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(n,r,i){return r||i.slice(1)})},Ri={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Bi=function(e,n){return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(r,i,a){var o=a&&a.toUpperCase();return i||n[a]||Ri[a]||zi(n[o])})},Zi=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,en=/\d/,Ht=/\d\d/,qi=/\d{3}/,Xi=/\d{4}/,ut=/\d\d?/,Gi=/[+-]?\d+/,ji=/[+-]\d\d:?(\d\d)?|Z/,Nt=/\d*[^-_:/,()\s\d]+/,bt={},Un=function(e){return e=+e,e+(e>68?1900:2e3)};function Qi(t){if(!t||t==="Z")return 0;var e=t.match(/([+-]|\d\d)/g),n=+(e[1]*60)+(+e[2]||0);return n===0?0:e[0]==="+"?-n:n}var it=function(e){return function(n){this[e]=+n}},nn=[ji,function(t){var e=this.zone||(this.zone={});e.offset=Qi(t)}],be=function(e){var n=bt[e];return n&&(n.indexOf?n:n.s.concat(n.f))},rn=function(e,n){var r,i=bt,a=i.meridiem;if(!a)r=e===(n?"pm":"PM");else for(var o=1;o<=24;o+=1)if(e.indexOf(a(o,0,n))>-1){r=o>12;break}return r},Ji={A:[Nt,function(t){this.afternoon=rn(t,!1)}],a:[Nt,function(t){this.afternoon=rn(t,!0)}],Q:[en,function(t){this.month=(t-1)*3+1}],S:[en,function(t){this.milliseconds=+t*100}],SS:[Ht,function(t){this.milliseconds=+t*10}],SSS:[qi,function(t){this.milliseconds=+t}],s:[ut,it("seconds")],ss:[ut,it("seconds")],m:[ut,it("minutes")],mm:[ut,it("minutes")],H:[ut,it("hours")],h:[ut,it("hours")],HH:[ut,it("hours")],hh:[ut,it("hours")],D:[ut,it("day")],DD:[Ht,it("day")],Do:[Nt,function(t){var e=bt,n=e.ordinal,r=t.match(/\d+/);if(this.day=r[0],!!n)for(var i=1;i<=31;i+=1)n(i).replace(/\[|\]/g,"")===t&&(this.day=i)}],w:[ut,it("week")],ww:[Ht,it("week")],M:[ut,it("month")],MM:[Ht,it("month")],MMM:[Nt,function(t){var e=be("months"),n=be("monthsShort"),r=(n||e.map(function(i){return i.slice(0,3)})).indexOf(t)+1;if(r<1)throw new Error;this.month=r%12||r}],MMMM:[Nt,function(t){var e=be("months"),n=e.indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],Y:[Gi,it("year")],YY:[Ht,function(t){this.year=Un(t)}],YYYY:[Xi,it("year")],Z:nn,ZZ:nn};function Ki(t){var e=t.afternoon;if(e!==void 0){var n=t.hours;e?n<12&&(t.hours+=12):n===12&&(t.hours=0),delete t.afternoon}}function ta(t){t=Bi(t,bt&&bt.formats);for(var e=t.match(Zi),n=e.length,r=0;r<n;r+=1){var i=e[r],a=Ji[i],o=a&&a[0],d=a&&a[1];d?e[r]={regex:o,parser:d}:e[r]=i.replace(/^\[|\]$/g,"")}return function(p){for(var x={},k=0,E=0;k<n;k+=1){var Y=e[k];if(typeof Y=="string")E+=Y.length;else{var T=Y.regex,$=Y.parser,F=p.slice(E),Z=T.exec(F),R=Z[0];$.call(x,R),p=p.replace(R,"")}}return Ki(x),x}}var ea=function(e,n,r,i){try{if(["x","X"].indexOf(n)>-1)return new Date((n==="X"?1e3:1)*e);var a=ta(n),o=a(e),d=o.year,p=o.month,x=o.day,k=o.hours,E=o.minutes,Y=o.seconds,T=o.milliseconds,$=o.zone,F=o.week,Z=new Date,R=x||(!d&&!p?Z.getDate():1),Q=d||Z.getFullYear(),P=0;d&&!p||(P=p>0?p-1:Z.getMonth());var B=k||0,G=E||0,h=Y||0,m=T||0;if($)return new Date(Date.UTC(Q,P,R,B,G,h,m+$.offset*60*1e3));if(r)return new Date(Date.UTC(Q,P,R,B,G,h,m));var y;return y=new Date(Q,P,R,B,G,h,m),F&&(y=i(y).week(F).toDate()),y}catch{return new Date("")}};const na=(function(t,e,n){n.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(Un=t.parseTwoDigitYear);var r=e.prototype,i=r.parse;r.parse=function(a){var o=a.date,d=a.utc,p=a.args;this.$u=d;var x=p[1];if(typeof x=="string"){var k=p[2]===!0,E=p[3]===!0,Y=k||E,T=p[2];E&&(T=p[2]),bt=this.$locale(),!k&&T&&(bt=n.Ls[T]),this.$d=ea(o,x,d,n),this.init(),T&&T!==!0&&(this.$L=this.locale(T).$L),Y&&o!=this.format(x)&&(this.$d=new Date("")),bt={}}else if(x instanceof Array)for(var $=x.length,F=1;F<=$;F+=1){p[1]=x[F-1];var Z=n.apply(this,p);if(Z.isValid()){this.$d=Z.$d,this.$L=Z.$L,this.init();break}F===$&&(this.$d=new Date(""))}else i.call(this,a)}}),ra=(function(t,e){var n=e.prototype,r=n.format;n.format=function(i){var a=this,o=this.$locale();if(!this.isValid())return r.bind(this)(i);var d=this.$utils(),p=i||Ni,x=p.replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(k){switch(k){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return o.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return o.ordinal(a.week(),"W");case"w":case"ww":return d.s(a.week(),k==="w"?1:2,"0");case"W":case"WW":return d.s(a.isoWeek(),k==="W"?1:2,"0");case"k":case"kk":return d.s(String(a.$H===0?24:a.$H),k==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return k}});return r.bind(this)(x)}});var te={exports:{}},ia=te.exports,an;function aa(){return an||(an=1,(function(t,e){(function(n,r){t.exports=r()})(ia,(function(){var n,r,i=1e3,a=6e4,o=36e5,d=864e5,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x=31536e6,k=2628e6,E=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,Y={years:x,months:k,days:d,hours:o,minutes:a,seconds:i,milliseconds:1,weeks:6048e5},T=function(h){return h instanceof B},$=function(h,m,y){return new B(h,y,m.$l)},F=function(h){return r.p(h)+"s"},Z=function(h){return h<0},R=function(h){return Z(h)?Math.ceil(h):Math.floor(h)},Q=function(h){return Math.abs(h)},P=function(h,m){return h?Z(h)?{negative:!0,format:""+Q(h)+m}:{negative:!1,format:""+h+m}:{negative:!1,format:""}},B=(function(){function h(y,v,S){var _=this;if(this.$d={},this.$l=S,y===void 0&&(this.$ms=0,this.parseFromMilliseconds()),v)return $(y*Y[F(v)],this);if(typeof y=="number")return this.$ms=y,this.parseFromMilliseconds(),this;if(typeof y=="object")return Object.keys(y).forEach((function(u){_.$d[F(u)]=y[u]})),this.calMilliseconds(),this;if(typeof y=="string"){var C=y.match(E);if(C){var w=C.slice(2).map((function(u){return u!=null?Number(u):0}));return this.$d.years=w[0],this.$d.months=w[1],this.$d.weeks=w[2],this.$d.days=w[3],this.$d.hours=w[4],this.$d.minutes=w[5],this.$d.seconds=w[6],this.calMilliseconds(),this}}return this}var m=h.prototype;return m.calMilliseconds=function(){var y=this;this.$ms=Object.keys(this.$d).reduce((function(v,S){return v+(y.$d[S]||0)*Y[S]}),0)},m.parseFromMilliseconds=function(){var y=this.$ms;this.$d.years=R(y/x),y%=x,this.$d.months=R(y/k),y%=k,this.$d.days=R(y/d),y%=d,this.$d.hours=R(y/o),y%=o,this.$d.minutes=R(y/a),y%=a,this.$d.seconds=R(y/i),y%=i,this.$d.milliseconds=y},m.toISOString=function(){var y=P(this.$d.years,"Y"),v=P(this.$d.months,"M"),S=+this.$d.days||0;this.$d.weeks&&(S+=7*this.$d.weeks);var _=P(S,"D"),C=P(this.$d.hours,"H"),w=P(this.$d.minutes,"M"),u=this.$d.seconds||0;this.$d.milliseconds&&(u+=this.$d.milliseconds/1e3,u=Math.round(1e3*u)/1e3);var g=P(u,"S"),D=y.negative||v.negative||_.negative||C.negative||w.negative||g.negative,b=C.format||w.format||g.format?"T":"",U=(D?"-":"")+"P"+y.format+v.format+_.format+b+C.format+w.format+g.format;return U==="P"||U==="-P"?"P0D":U},m.toJSON=function(){return this.toISOString()},m.format=function(y){var v=y||"YYYY-MM-DDTHH:mm:ss",S={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return v.replace(p,(function(_,C){return C||String(S[_])}))},m.as=function(y){return this.$ms/Y[F(y)]},m.get=function(y){var v=this.$ms,S=F(y);return S==="milliseconds"?v%=1e3:v=S==="weeks"?R(v/Y[S]):this.$d[S],v||0},m.add=function(y,v,S){var _;return _=v?y*Y[F(v)]:T(y)?y.$ms:$(y,this).$ms,$(this.$ms+_*(S?-1:1),this)},m.subtract=function(y,v){return this.add(y,v,!0)},m.locale=function(y){var v=this.clone();return v.$l=y,v},m.clone=function(){return $(this.$ms,this)},m.humanize=function(y){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!y)},m.valueOf=function(){return this.asMilliseconds()},m.milliseconds=function(){return this.get("milliseconds")},m.asMilliseconds=function(){return this.as("milliseconds")},m.seconds=function(){return this.get("seconds")},m.asSeconds=function(){return this.as("seconds")},m.minutes=function(){return this.get("minutes")},m.asMinutes=function(){return this.as("minutes")},m.hours=function(){return this.get("hours")},m.asHours=function(){return this.as("hours")},m.days=function(){return this.get("days")},m.asDays=function(){return this.as("days")},m.weeks=function(){return this.get("weeks")},m.asWeeks=function(){return this.as("weeks")},m.months=function(){return this.get("months")},m.asMonths=function(){return this.as("months")},m.years=function(){return this.get("years")},m.asYears=function(){return this.as("years")},h})(),G=function(h,m,y){return h.add(m.years()*y,"y").add(m.months()*y,"M").add(m.days()*y,"d").add(m.hours()*y,"h").add(m.minutes()*y,"m").add(m.seconds()*y,"s").add(m.milliseconds()*y,"ms")};return function(h,m,y){n=y,r=y().$utils(),y.duration=function(_,C){var w=y.locale();return $(_,{$l:w},C)},y.isDuration=T;var v=m.prototype.add,S=m.prototype.subtract;m.prototype.add=function(_,C){return T(_)?G(this,_,1):v.bind(this)(_,C)},m.prototype.subtract=function(_,C){return T(_)?G(this,_,-1):S.bind(this)(_,C)}}}))})(te)),te.exports}var sa=aa();const oa=Vn(sa);var Me=(function(){var t=f(function(w,u,g,D){for(g=g||{},D=w.length;D--;g[w[D]]=u);return g},"o"),e=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],n=[1,26],r=[1,27],i=[1,28],a=[1,29],o=[1,30],d=[1,31],p=[1,32],x=[1,33],k=[1,34],E=[1,9],Y=[1,10],T=[1,11],$=[1,12],F=[1,13],Z=[1,14],R=[1,15],Q=[1,16],P=[1,19],B=[1,20],G=[1,21],h=[1,22],m=[1,23],y=[1,25],v=[1,35],S={trace:f(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:f(function(u,g,D,b,U,c,q){var s=c.length-1;switch(U){case 1:return c[s-1];case 2:this.$=[];break;case 3:c[s-1].push(c[s]),this.$=c[s-1];break;case 4:case 5:this.$=c[s];break;case 6:case 7:this.$=[];break;case 8:b.setWeekday("monday");break;case 9:b.setWeekday("tuesday");break;case 10:b.setWeekday("wednesday");break;case 11:b.setWeekday("thursday");break;case 12:b.setWeekday("friday");break;case 13:b.setWeekday("saturday");break;case 14:b.setWeekday("sunday");break;case 15:b.setWeekend("friday");break;case 16:b.setWeekend("saturday");break;case 17:b.setDateFormat(c[s].substr(11)),this.$=c[s].substr(11);break;case 18:b.enableInclusiveEndDates(),this.$=c[s].substr(18);break;case 19:b.TopAxis(),this.$=c[s].substr(8);break;case 20:b.setAxisFormat(c[s].substr(11)),this.$=c[s].substr(11);break;case 21:b.setTickInterval(c[s].substr(13)),this.$=c[s].substr(13);break;case 22:b.setExcludes(c[s].substr(9)),this.$=c[s].substr(9);break;case 23:b.setIncludes(c[s].substr(9)),this.$=c[s].substr(9);break;case 24:b.setTodayMarker(c[s].substr(12)),this.$=c[s].substr(12);break;case 27:b.setDiagramTitle(c[s].substr(6)),this.$=c[s].substr(6);break;case 28:this.$=c[s].trim(),b.setAccTitle(this.$);break;case 29:case 30:this.$=c[s].trim(),b.setAccDescription(this.$);break;case 31:b.addSection(c[s].substr(8)),this.$=c[s].substr(8);break;case 33:b.addTask(c[s-1],c[s]),this.$="task";break;case 34:this.$=c[s-1],b.setClickEvent(c[s-1],c[s],null);break;case 35:this.$=c[s-2],b.setClickEvent(c[s-2],c[s-1],c[s]);break;case 36:this.$=c[s-2],b.setClickEvent(c[s-2],c[s-1],null),b.setLink(c[s-2],c[s]);break;case 37:this.$=c[s-3],b.setClickEvent(c[s-3],c[s-2],c[s-1]),b.setLink(c[s-3],c[s]);break;case 38:this.$=c[s-2],b.setClickEvent(c[s-2],c[s],null),b.setLink(c[s-2],c[s-1]);break;case 39:this.$=c[s-3],b.setClickEvent(c[s-3],c[s-1],c[s]),b.setLink(c[s-3],c[s-2]);break;case 40:this.$=c[s-1],b.setLink(c[s-1],c[s]);break;case 41:case 47:this.$=c[s-1]+" "+c[s];break;case 42:case 43:case 45:this.$=c[s-2]+" "+c[s-1]+" "+c[s];break;case 44:case 46:this.$=c[s-3]+" "+c[s-2]+" "+c[s-1]+" "+c[s];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:n,13:r,14:i,15:a,16:o,17:d,18:p,19:18,20:x,21:k,22:E,23:Y,24:T,25:$,26:F,27:Z,28:R,29:Q,30:P,31:B,33:G,35:h,36:m,37:24,38:y,40:v},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:36,11:17,12:n,13:r,14:i,15:a,16:o,17:d,18:p,19:18,20:x,21:k,22:E,23:Y,24:T,25:$,26:F,27:Z,28:R,29:Q,30:P,31:B,33:G,35:h,36:m,37:24,38:y,40:v},t(e,[2,5]),t(e,[2,6]),t(e,[2,17]),t(e,[2,18]),t(e,[2,19]),t(e,[2,20]),t(e,[2,21]),t(e,[2,22]),t(e,[2,23]),t(e,[2,24]),t(e,[2,25]),t(e,[2,26]),t(e,[2,27]),{32:[1,37]},{34:[1,38]},t(e,[2,30]),t(e,[2,31]),t(e,[2,32]),{39:[1,39]},t(e,[2,8]),t(e,[2,9]),t(e,[2,10]),t(e,[2,11]),t(e,[2,12]),t(e,[2,13]),t(e,[2,14]),t(e,[2,15]),t(e,[2,16]),{41:[1,40],43:[1,41]},t(e,[2,4]),t(e,[2,28]),t(e,[2,29]),t(e,[2,33]),t(e,[2,34],{42:[1,42],43:[1,43]}),t(e,[2,40],{41:[1,44]}),t(e,[2,35],{43:[1,45]}),t(e,[2,36]),t(e,[2,38],{42:[1,46]}),t(e,[2,37]),t(e,[2,39])],defaultActions:{},parseError:f(function(u,g){if(g.recoverable)this.trace(u);else{var D=new Error(u);throw D.hash=g,D}},"parseError"),parse:f(function(u){var g=this,D=[0],b=[],U=[null],c=[],q=this.table,s="",I=0,z=0,H=2,O=1,tt=c.slice.call(arguments,1),L=Object.create(this.lexer),ot={yy:{}};for(var M in this.yy)Object.prototype.hasOwnProperty.call(this.yy,M)&&(ot.yy[M]=this.yy[M]);L.setInput(u,ot.yy),ot.yy.lexer=L,ot.yy.parser=this,typeof L.yylloc>"u"&&(L.yylloc={});var W=L.yylloc;c.push(W);var N=L.options&&L.options.ranges;typeof ot.yy.parseError=="function"?this.parseError=ot.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function l(at){D.length=D.length-2*at,U.length=U.length-at,c.length=c.length-at}f(l,"popStack");function nt(){var at;return at=b.pop()||L.lex()||O,typeof at!="number"&&(at instanceof Array&&(b=at,at=b.pop()),at=g.symbols_[at]||at),at}f(nt,"lex");for(var A,j,X,ct,dt={},Gt,ht,Pe,jt;;){if(j=D[D.length-1],this.defaultActions[j]?X=this.defaultActions[j]:((A===null||typeof A>"u")&&(A=nt()),X=q[j]&&q[j][A]),typeof X>"u"||!X.length||!X[0]){var ce="";jt=[];for(Gt in q[j])this.terminals_[Gt]&&Gt>H&&jt.push("'"+this.terminals_[Gt]+"'");L.showPosition?ce="Parse error on line "+(I+1)+`:
`+L.showPosition()+`
Expecting `+jt.join(", ")+", got '"+(this.terminals_[A]||A)+"'":ce="Parse error on line "+(I+1)+": Unexpected "+(A==O?"end of input":"'"+(this.terminals_[A]||A)+"'"),this.parseError(ce,{text:L.match,token:this.terminals_[A]||A,line:L.yylineno,loc:W,expected:jt})}if(X[0]instanceof Array&&X.length>1)throw new Error("Parse Error: multiple actions possible at state: "+j+", token: "+A);switch(X[0]){case 1:D.push(A),U.push(L.yytext),c.push(L.yylloc),D.push(X[1]),A=null,z=L.yyleng,s=L.yytext,I=L.yylineno,W=L.yylloc;break;case 2:if(ht=this.productions_[X[1]][1],dt.$=U[U.length-ht],dt._$={first_line:c[c.length-(ht||1)].first_line,last_line:c[c.length-1].last_line,first_column:c[c.length-(ht||1)].first_column,last_column:c[c.length-1].last_column},N&&(dt._$.range=[c[c.length-(ht||1)].range[0],c[c.length-1].range[1]]),ct=this.performAction.apply(dt,[s,z,I,ot.yy,X[1],U,c].concat(tt)),typeof ct<"u")return ct;ht&&(D=D.slice(0,-1*ht*2),U=U.slice(0,-1*ht),c=c.slice(0,-1*ht)),D.push(this.productions_[X[1]][0]),U.push(dt.$),c.push(dt._$),Pe=q[D[D.length-2]][D[D.length-1]],D.push(Pe);break;case 3:return!0}}return!0},"parse")},_=(function(){var w={EOF:1,parseError:f(function(g,D){if(this.yy.parser)this.yy.parser.parseError(g,D);else throw new Error(g)},"parseError"),setInput:f(function(u,g){return this.yy=g||this.yy||{},this._input=u,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:f(function(){var u=this._input[0];this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u;var g=u.match(/(?:\r\n?|\n).*/g);return g?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),u},"input"),unput:f(function(u){var g=u.length,D=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-g),this.offset-=g;var b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),D.length-1&&(this.yylineno-=D.length-1);var U=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:D?(D.length===b.length?this.yylloc.first_column:0)+b[b.length-D.length].length-D[0].length:this.yylloc.first_column-g},this.options.ranges&&(this.yylloc.range=[U[0],U[0]+this.yyleng-g]),this.yyleng=this.yytext.length,this},"unput"),more:f(function(){return this._more=!0,this},"more"),reject:f(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:f(function(u){this.unput(this.match.slice(u))},"less"),pastInput:f(function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:f(function(){var u=this.match;return u.length<20&&(u+=this._input.substr(0,20-u.length)),(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:f(function(){var u=this.pastInput(),g=new Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+g+"^"},"showPosition"),test_match:f(function(u,g){var D,b,U;if(this.options.backtrack_lexer&&(U={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(U.yylloc.range=this.yylloc.range.slice(0))),b=u[0].match(/(?:\r\n?|\n).*/g),b&&(this.yylineno+=b.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],D=this.performAction.call(this,this.yy,this,g,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),D)return D;if(this._backtrack){for(var c in U)this[c]=U[c];return!1}return!1},"test_match"),next:f(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var u,g,D,b;this._more||(this.yytext="",this.match="");for(var U=this._currentRules(),c=0;c<U.length;c++)if(D=this._input.match(this.rules[U[c]]),D&&(!g||D[0].length>g[0].length)){if(g=D,b=c,this.options.backtrack_lexer){if(u=this.test_match(D,U[c]),u!==!1)return u;if(this._backtrack){g=!1;continue}else return!1}else if(!this.options.flex)break}return g?(u=this.test_match(g,U[b]),u!==!1?u:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:f(function(){var g=this.next();return g||this.lex()},"lex"),begin:f(function(g){this.conditionStack.push(g)},"begin"),popState:f(function(){var g=this.conditionStack.length-1;return g>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:f(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:f(function(g){return g=this.conditionStack.length-1-Math.abs(g||0),g>=0?this.conditionStack[g]:"INITIAL"},"topState"),pushState:f(function(g){this.begin(g)},"pushState"),stateStackSize:f(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:f(function(g,D,b,U){switch(b){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return w})();S.lexer=_;function C(){this.yy={}}return f(C,"Parser"),C.prototype=S,S.Parser=C,new C})();Me.parser=Me;var ca=Me;rt.extend(Vi);rt.extend(na);rt.extend(ra);var sn={friday:5,saturday:6},lt="",Ue="",Ie=void 0,Ee="",Zt=[],qt=[],Le=new Map,Ae=[],se=[],At="",We="",In=["active","done","crit","milestone","vert"],$e=[],Xt=!1,Oe=!1,He="sunday",oe="saturday",Ce=0,ua=f(function(){Ae=[],se=[],At="",$e=[],ee=0,_e=void 0,ne=void 0,J=[],lt="",Ue="",We="",Ie=void 0,Ee="",Zt=[],qt=[],Xt=!1,Oe=!1,Ce=0,Le=new Map,Jn(),He="sunday",oe="saturday"},"clear"),la=f(function(t){Ue=t},"setAxisFormat"),fa=f(function(){return Ue},"getAxisFormat"),da=f(function(t){Ie=t},"setTickInterval"),ha=f(function(){return Ie},"getTickInterval"),ma=f(function(t){Ee=t},"setTodayMarker"),ga=f(function(){return Ee},"getTodayMarker"),ya=f(function(t){lt=t},"setDateFormat"),ka=f(function(){Xt=!0},"enableInclusiveEndDates"),va=f(function(){return Xt},"endDatesAreInclusive"),pa=f(function(){Oe=!0},"enableTopAxis"),Ta=f(function(){return Oe},"topAxisEnabled"),ba=f(function(t){We=t},"setDisplayMode"),xa=f(function(){return We},"getDisplayMode"),wa=f(function(){return lt},"getDateFormat"),Da=f(function(t){Zt=t.toLowerCase().split(/[\s,]+/)},"setIncludes"),Ma=f(function(){return Zt},"getIncludes"),Ca=f(function(t){qt=t.toLowerCase().split(/[\s,]+/)},"setExcludes"),Sa=f(function(){return qt},"getExcludes"),_a=f(function(){return Le},"getLinks"),Ya=f(function(t){At=t,Ae.push(t)},"addSection"),Fa=f(function(){return Ae},"getSections"),Ua=f(function(){let t=on();const e=10;let n=0;for(;!t&&n<e;)t=on(),n++;return se=J,se},"getTasks"),En=f(function(t,e,n,r){const i=t.format(e.trim()),a=t.format("YYYY-MM-DD");return r.includes(i)||r.includes(a)?!1:n.includes("weekends")&&(t.isoWeekday()===sn[oe]||t.isoWeekday()===sn[oe]+1)||n.includes(t.format("dddd").toLowerCase())?!0:n.includes(i)||n.includes(a)},"isInvalidDate"),Ia=f(function(t){He=t},"setWeekday"),Ea=f(function(){return He},"getWeekday"),La=f(function(t){oe=t},"setWeekend"),Ln=f(function(t,e,n,r){if(!n.length||t.manualEndTime)return;let i;t.startTime instanceof Date?i=rt(t.startTime):i=rt(t.startTime,e,!0),i=i.add(1,"d");let a;t.endTime instanceof Date?a=rt(t.endTime):a=rt(t.endTime,e,!0);const[o,d]=Aa(i,a,e,n,r);t.endTime=o.toDate(),t.renderEndTime=d},"checkTaskDates"),Aa=f(function(t,e,n,r,i){let a=!1,o=null;for(;t<=e;)a||(o=e.toDate()),a=En(t,n,r,i),a&&(e=e.add(1,"d")),t=t.add(1,"d");return[e,o]},"fixTaskDates"),Se=f(function(t,e,n){if(n=n.trim(),f(d=>{const p=d.trim();return p==="x"||p==="X"},"isTimestampFormat")(e)&&/^\d+$/.test(n))return new Date(Number(n));const a=/^after\s+(?<ids>[\d\w- ]+)/.exec(n);if(a!==null){let d=null;for(const x of a.groups.ids.split(" ")){let k=_t(x);k!==void 0&&(!d||k.endTime>d.endTime)&&(d=k)}if(d)return d.endTime;const p=new Date;return p.setHours(0,0,0,0),p}let o=rt(n,e.trim(),!0);if(o.isValid())return o.toDate();{xt.debug("Invalid date:"+n),xt.debug("With date format:"+e.trim());const d=new Date(n);if(d===void 0||isNaN(d.getTime())||d.getFullYear()<-1e4||d.getFullYear()>1e4)throw new Error("Invalid date:"+n);return d}},"getStartDate"),An=f(function(t){const e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return e!==null?[Number.parseFloat(e[1]),e[2]]:[NaN,"ms"]},"parseDuration"),Wn=f(function(t,e,n,r=!1){n=n.trim();const a=/^until\s+(?<ids>[\d\w- ]+)/.exec(n);if(a!==null){let k=null;for(const Y of a.groups.ids.split(" ")){let T=_t(Y);T!==void 0&&(!k||T.startTime<k.startTime)&&(k=T)}if(k)return k.startTime;const E=new Date;return E.setHours(0,0,0,0),E}let o=rt(n,e.trim(),!0);if(o.isValid())return r&&(o=o.add(1,"d")),o.toDate();let d=rt(t);const[p,x]=An(n);if(!Number.isNaN(p)){const k=d.add(p,x);k.isValid()&&(d=k)}return d.toDate()},"getEndDate"),ee=0,It=f(function(t){return t===void 0?(ee=ee+1,"task"+ee):t},"parseId"),Wa=f(function(t,e){let n;e.substr(0,1)===":"?n=e.substr(1,e.length):n=e;const r=n.split(","),i={};Ne(r,i,In);for(let o=0;o<r.length;o++)r[o]=r[o].trim();let a="";switch(r.length){case 1:i.id=It(),i.startTime=t.endTime,a=r[0];break;case 2:i.id=It(),i.startTime=Se(void 0,lt,r[0]),a=r[1];break;case 3:i.id=It(r[0]),i.startTime=Se(void 0,lt,r[1]),a=r[2];break}return a&&(i.endTime=Wn(i.startTime,lt,a,Xt),i.manualEndTime=rt(a,"YYYY-MM-DD",!0).isValid(),Ln(i,lt,qt,Zt)),i},"compileData"),$a=f(function(t,e){let n;e.substr(0,1)===":"?n=e.substr(1,e.length):n=e;const r=n.split(","),i={};Ne(r,i,In);for(let a=0;a<r.length;a++)r[a]=r[a].trim();switch(r.length){case 1:i.id=It(),i.startTime={type:"prevTaskEnd",id:t},i.endTime={data:r[0]};break;case 2:i.id=It(),i.startTime={type:"getStartDate",startData:r[0]},i.endTime={data:r[1]};break;case 3:i.id=It(r[0]),i.startTime={type:"getStartDate",startData:r[1]},i.endTime={data:r[2]};break}return i},"parseData"),_e,ne,J=[],$n={},Oa=f(function(t,e){const n={section:At,type:At,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},r=$a(ne,e);n.raw.startTime=r.startTime,n.raw.endTime=r.endTime,n.id=r.id,n.prevTaskId=ne,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,n.vert=r.vert,n.order=Ce,Ce++;const i=J.push(n);ne=n.id,$n[n.id]=i-1},"addTask"),_t=f(function(t){const e=$n[t];return J[e]},"findTaskById"),Ha=f(function(t,e){const n={section:At,type:At,description:t,task:t,classes:[]},r=Wa(_e,e);n.startTime=r.startTime,n.endTime=r.endTime,n.id=r.id,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,n.vert=r.vert,_e=n,se.push(n)},"addTaskOrg"),on=f(function(){const t=f(function(n){const r=J[n];let i="";switch(J[n].raw.startTime.type){case"prevTaskEnd":{const a=_t(r.prevTaskId);r.startTime=a.endTime;break}case"getStartDate":i=Se(void 0,lt,J[n].raw.startTime.startData),i&&(J[n].startTime=i);break}return J[n].startTime&&(J[n].endTime=Wn(J[n].startTime,lt,J[n].raw.endTime.data,Xt),J[n].endTime&&(J[n].processed=!0,J[n].manualEndTime=rt(J[n].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),Ln(J[n],lt,qt,Zt))),J[n].processed},"compileTask");let e=!0;for(const[n,r]of J.entries())t(n),e=e&&r.processed;return e},"compileTasks"),Na=f(function(t,e){let n=e;Ft().securityLevel!=="loose"&&(n=Qn.sanitizeUrl(e)),t.split(",").forEach(function(r){_t(r)!==void 0&&(Hn(r,()=>{window.open(n,"_self")}),Le.set(r,n))}),On(t,"clickable")},"setLink"),On=f(function(t,e){t.split(",").forEach(function(n){let r=_t(n);r!==void 0&&r.classes.push(e)})},"setClass"),Pa=f(function(t,e,n){if(Ft().securityLevel!=="loose"||e===void 0)return;let r=[];if(typeof n=="string"){r=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let a=0;a<r.length;a++){let o=r[a].trim();o.startsWith('"')&&o.endsWith('"')&&(o=o.substr(1,o.length-2)),r[a]=o}}r.length===0&&r.push(t),_t(t)!==void 0&&Hn(t,()=>{Kn.runFunc(e,...r)})},"setClickFun"),Hn=f(function(t,e){$e.push(function(){const n=document.querySelector(`[id="${t}"]`);n!==null&&n.addEventListener("click",function(){e()})},function(){const n=document.querySelector(`[id="${t}-text"]`);n!==null&&n.addEventListener("click",function(){e()})})},"pushFun"),Va=f(function(t,e,n){t.split(",").forEach(function(r){Pa(r,e,n)}),On(t,"clickable")},"setClickEvent"),za=f(function(t){$e.forEach(function(e){e(t)})},"bindFunctions"),Ra={getConfig:f(()=>Ft().gantt,"getConfig"),clear:ua,setDateFormat:ya,getDateFormat:wa,enableInclusiveEndDates:ka,endDatesAreInclusive:va,enableTopAxis:pa,topAxisEnabled:Ta,setAxisFormat:la,getAxisFormat:fa,setTickInterval:da,getTickInterval:ha,setTodayMarker:ma,getTodayMarker:ga,setAccTitle:Xn,getAccTitle:qn,setDiagramTitle:Zn,getDiagramTitle:Bn,setDisplayMode:ba,getDisplayMode:xa,setAccDescription:Rn,getAccDescription:zn,addSection:Ya,getSections:Fa,getTasks:Ua,addTask:Oa,findTaskById:_t,addTaskOrg:Ha,setIncludes:Da,getIncludes:Ma,setExcludes:Ca,getExcludes:Sa,setClickEvent:Va,setLink:Na,getLinks:_a,bindFunctions:za,parseDuration:An,isInvalidDate:En,setWeekday:Ia,getWeekday:Ea,setWeekend:La};function Ne(t,e,n){let r=!0;for(;r;)r=!1,n.forEach(function(i){const a="^\\s*"+i+"\\s*$",o=new RegExp(a);t[0].match(o)&&(e[i]=!0,t.shift(1),r=!0)})}f(Ne,"getTaskTags");rt.extend(oa);var Ba=f(function(){xt.debug("Something is calling, setConf, remove the call")},"setConf"),cn={monday:zt,tuesday:bn,wednesday:xn,thursday:Dt,friday:wn,saturday:Dn,sunday:Bt},Za=f((t,e)=>{let n=[...t].map(()=>-1/0),r=[...t].sort((a,o)=>a.startTime-o.startTime||a.order-o.order),i=0;for(const a of r)for(let o=0;o<n.length;o++)if(a.startTime>=n[o]){n[o]=a.endTime,a.order=o+e,o>i&&(i=o);break}return i},"getMaxIntersections"),mt,xe=1e4,qa=f(function(t,e,n,r){const i=Ft().gantt,a=Ft().securityLevel;let o;a==="sandbox"&&(o=Qt("#i"+e));const d=a==="sandbox"?Qt(o.nodes()[0].contentDocument.body):Qt("body"),p=a==="sandbox"?o.nodes()[0].contentDocument:document,x=p.getElementById(e);mt=x.parentElement.offsetWidth,mt===void 0&&(mt=1200),i.useWidth!==void 0&&(mt=i.useWidth);const k=r.db.getTasks();let E=[];for(const v of k)E.push(v.type);E=y(E);const Y={};let T=2*i.topPadding;if(r.db.getDisplayMode()==="compact"||i.displayMode==="compact"){const v={};for(const _ of k)v[_.section]===void 0?v[_.section]=[_]:v[_.section].push(_);let S=0;for(const _ of Object.keys(v)){const C=Za(v[_],S)+1;S+=C,T+=C*(i.barHeight+i.barGap),Y[_]=C}}else{T+=k.length*(i.barHeight+i.barGap);for(const v of E)Y[v]=k.filter(S=>S.type===v).length}x.setAttribute("viewBox","0 0 "+mt+" "+T);const $=d.select(`[id="${e}"]`),F=$i().domain([sr(k,function(v){return v.startTime}),ar(k,function(v){return v.endTime})]).rangeRound([0,mt-i.leftPadding-i.rightPadding]);function Z(v,S){const _=v.startTime,C=S.startTime;let w=0;return _>C?w=1:_<C&&(w=-1),w}f(Z,"taskCompare"),k.sort(Z),R(k,mt,T),Gn($,T,mt,i.useMaxWidth),$.append("text").text(r.db.getDiagramTitle()).attr("x",mt/2).attr("y",i.titleTopMargin).attr("class","titleText");function R(v,S,_){const C=i.barHeight,w=C+i.barGap,u=i.topPadding,g=i.leftPadding,D=rr().domain([0,E.length]).range(["#00B9FA","#F95002"]).interpolate(br);P(w,u,g,S,_,v,r.db.getExcludes(),r.db.getIncludes()),G(g,u,S,_),Q(v,w,u,g,C,D,S),h(w,u),m(g,u,S,_)}f(R,"makeGantt");function Q(v,S,_,C,w,u,g){v.sort((s,I)=>s.vert===I.vert?0:s.vert?1:-1);const b=[...new Set(v.map(s=>s.order))].map(s=>v.find(I=>I.order===s));$.append("g").selectAll("rect").data(b).enter().append("rect").attr("x",0).attr("y",function(s,I){return I=s.order,I*S+_-2}).attr("width",function(){return g-i.rightPadding/2}).attr("height",S).attr("class",function(s){for(const[I,z]of E.entries())if(s.type===z)return"section section"+I%i.numberSectionStyles;return"section section0"}).enter();const U=$.append("g").selectAll("rect").data(v).enter(),c=r.db.getLinks();if(U.append("rect").attr("id",function(s){return s.id}).attr("rx",3).attr("ry",3).attr("x",function(s){return s.milestone?F(s.startTime)+C+.5*(F(s.endTime)-F(s.startTime))-.5*w:F(s.startTime)+C}).attr("y",function(s,I){return I=s.order,s.vert?i.gridLineStartPadding:I*S+_}).attr("width",function(s){return s.milestone?w:s.vert?.08*w:F(s.renderEndTime||s.endTime)-F(s.startTime)}).attr("height",function(s){return s.vert?k.length*(i.barHeight+i.barGap)+i.barHeight*2:w}).attr("transform-origin",function(s,I){return I=s.order,(F(s.startTime)+C+.5*(F(s.endTime)-F(s.startTime))).toString()+"px "+(I*S+_+.5*w).toString()+"px"}).attr("class",function(s){const I="task";let z="";s.classes.length>0&&(z=s.classes.join(" "));let H=0;for(const[tt,L]of E.entries())s.type===L&&(H=tt%i.numberSectionStyles);let O="";return s.active?s.crit?O+=" activeCrit":O=" active":s.done?s.crit?O=" doneCrit":O=" done":s.crit&&(O+=" crit"),O.length===0&&(O=" task"),s.milestone&&(O=" milestone "+O),s.vert&&(O=" vert "+O),O+=H,O+=" "+z,I+O}),U.append("text").attr("id",function(s){return s.id+"-text"}).text(function(s){return s.task}).attr("font-size",i.fontSize).attr("x",function(s){let I=F(s.startTime),z=F(s.renderEndTime||s.endTime);if(s.milestone&&(I+=.5*(F(s.endTime)-F(s.startTime))-.5*w,z=I+w),s.vert)return F(s.startTime)+C;const H=this.getBBox().width;return H>z-I?z+H+1.5*i.leftPadding>g?I+C-5:z+C+5:(z-I)/2+I+C}).attr("y",function(s,I){return s.vert?i.gridLineStartPadding+k.length*(i.barHeight+i.barGap)+60:(I=s.order,I*S+i.barHeight/2+(i.fontSize/2-2)+_)}).attr("text-height",w).attr("class",function(s){const I=F(s.startTime);let z=F(s.endTime);s.milestone&&(z=I+w);const H=this.getBBox().width;let O="";s.classes.length>0&&(O=s.classes.join(" "));let tt=0;for(const[ot,M]of E.entries())s.type===M&&(tt=ot%i.numberSectionStyles);let L="";return s.active&&(s.crit?L="activeCritText"+tt:L="activeText"+tt),s.done?s.crit?L=L+" doneCritText"+tt:L=L+" doneText"+tt:s.crit&&(L=L+" critText"+tt),s.milestone&&(L+=" milestoneText"),s.vert&&(L+=" vertText"),H>z-I?z+H+1.5*i.leftPadding>g?O+" taskTextOutsideLeft taskTextOutside"+tt+" "+L:O+" taskTextOutsideRight taskTextOutside"+tt+" "+L+" width-"+H:O+" taskText taskText"+tt+" "+L+" width-"+H}),Ft().securityLevel==="sandbox"){let s;s=Qt("#i"+e);const I=s.nodes()[0].contentDocument;U.filter(function(z){return c.has(z.id)}).each(function(z){var H=I.querySelector("#"+z.id),O=I.querySelector("#"+z.id+"-text");const tt=H.parentNode;var L=I.createElement("a");L.setAttribute("xlink:href",c.get(z.id)),L.setAttribute("target","_top"),tt.appendChild(L),L.appendChild(H),L.appendChild(O)})}}f(Q,"drawRects");function P(v,S,_,C,w,u,g,D){if(g.length===0&&D.length===0)return;let b,U;for(const{startTime:H,endTime:O}of u)(b===void 0||H<b)&&(b=H),(U===void 0||O>U)&&(U=O);if(!b||!U)return;if(rt(U).diff(rt(b),"year")>5){xt.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}const c=r.db.getDateFormat(),q=[];let s=null,I=rt(b);for(;I.valueOf()<=U;)r.db.isInvalidDate(I,c,g,D)?s?s.end=I:s={start:I,end:I}:s&&(q.push(s),s=null),I=I.add(1,"d");$.append("g").selectAll("rect").data(q).enter().append("rect").attr("id",H=>"exclude-"+H.start.format("YYYY-MM-DD")).attr("x",H=>F(H.start.startOf("day"))+_).attr("y",i.gridLineStartPadding).attr("width",H=>F(H.end.endOf("day"))-F(H.start.startOf("day"))).attr("height",w-S-i.gridLineStartPadding).attr("transform-origin",function(H,O){return(F(H.start)+_+.5*(F(H.end)-F(H.start))).toString()+"px "+(O*v+.5*w).toString()+"px"}).attr("class","exclude-range")}f(P,"drawExcludeDays");function B(v,S,_,C){if(_<=0||v>S)return 1/0;const w=S-v,u=rt.duration({[C??"day"]:_}).asMilliseconds();return u<=0?1/0:Math.ceil(w/u)}f(B,"getEstimatedTickCount");function G(v,S,_,C){const w=r.db.getDateFormat(),u=r.db.getAxisFormat();let g;u?g=u:w==="D"?g="%d":g=i.axisFormat??"%Y-%m-%d";let D=mr(F).tickSize(-C+S+i.gridLineStartPadding).tickFormat(ae(g));const U=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(r.db.getTickInterval()||i.tickInterval);if(U!==null){const c=parseInt(U[1],10);if(isNaN(c)||c<=0)xt.warn(`Invalid tick interval value: "${U[1]}". Skipping custom tick interval.`);else{const q=U[2],s=r.db.getWeekday()||i.weekday,I=F.domain(),z=I[0],H=I[1],O=B(z,H,c,q);if(O>xe)xt.warn(`The tick interval "${c}${q}" would generate ${O} ticks, which exceeds the maximum allowed (${xe}). This may indicate an invalid date or time range. Skipping custom tick interval.`);else switch(q){case"millisecond":D.ticks(Et.every(c));break;case"second":D.ticks(Tt.every(c));break;case"minute":D.ticks(Pt.every(c));break;case"hour":D.ticks(Vt.every(c));break;case"day":D.ticks(wt.every(c));break;case"week":D.ticks(cn[s].every(c));break;case"month":D.ticks(Rt.every(c));break}}}if($.append("g").attr("class","grid").attr("transform","translate("+v+", "+(C-50)+")").call(D).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),r.db.topAxisEnabled()||i.topAxis){let c=hr(F).tickSize(-C+S+i.gridLineStartPadding).tickFormat(ae(g));if(U!==null){const q=parseInt(U[1],10);if(isNaN(q)||q<=0)xt.warn(`Invalid tick interval value: "${U[1]}". Skipping custom tick interval.`);else{const s=U[2],I=r.db.getWeekday()||i.weekday,z=F.domain(),H=z[0],O=z[1];if(B(H,O,q,s)<=xe)switch(s){case"millisecond":c.ticks(Et.every(q));break;case"second":c.ticks(Tt.every(q));break;case"minute":c.ticks(Pt.every(q));break;case"hour":c.ticks(Vt.every(q));break;case"day":c.ticks(wt.every(q));break;case"week":c.ticks(cn[I].every(q));break;case"month":c.ticks(Rt.every(q));break}}}$.append("g").attr("class","grid").attr("transform","translate("+v+", "+S+")").call(c).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}f(G,"makeGrid");function h(v,S){let _=0;const C=Object.keys(Y).map(w=>[w,Y[w]]);$.append("g").selectAll("text").data(C).enter().append(function(w){const u=w[0].split(jn.lineBreakRegex),g=-(u.length-1)/2,D=p.createElementNS("http://www.w3.org/2000/svg","text");D.setAttribute("dy",g+"em");for(const[b,U]of u.entries()){const c=p.createElementNS("http://www.w3.org/2000/svg","tspan");c.setAttribute("alignment-baseline","central"),c.setAttribute("x","10"),b>0&&c.setAttribute("dy","1em"),c.textContent=U,D.appendChild(c)}return D}).attr("x",10).attr("y",function(w,u){if(u>0)for(let g=0;g<u;g++)return _+=C[u-1][1],w[1]*v/2+_*v+S;else return w[1]*v/2+S}).attr("font-size",i.sectionFontSize).attr("class",function(w){for(const[u,g]of E.entries())if(w[0]===g)return"sectionTitle sectionTitle"+u%i.numberSectionStyles;return"sectionTitle"})}f(h,"vertLabels");function m(v,S,_,C){const w=r.db.getTodayMarker();if(w==="off")return;const u=$.append("g").attr("class","today"),g=new Date,D=u.append("line");D.attr("x1",F(g)+v).attr("x2",F(g)+v).attr("y1",i.titleTopMargin).attr("y2",C-i.titleTopMargin).attr("class","today"),w!==""&&D.attr("style",w.replace(/,/g,";"))}f(m,"drawToday");function y(v){const S={},_=[];for(let C=0,w=v.length;C<w;++C)Object.prototype.hasOwnProperty.call(S,v[C])||(S[v[C]]=!0,_.push(v[C]));return _}f(y,"checkUnique")},"draw"),Xa={setConf:Ba,draw:qa},Ga=f(t=>`
  .mermaid-main-font {
        font-family: ${t.fontFamily};
  }

  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: ${t.fontFamily};
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${t.fontFamily};
    fill: ${t.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: ${t.fontFamily};
  }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    font-family: ${t.fontFamily};
  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .vert {
    stroke: ${t.vertLineColor};
  }

  .vertText {
    font-size: 15px;
    text-anchor: middle;
    fill: ${t.vertLineColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.titleColor||t.textColor};
    font-family: ${t.fontFamily};
  }
`,"getStyles"),ja=Ga,rs={parser:ca,db:Ra,renderer:Xa,styles:ja};export{rs as diagram};
