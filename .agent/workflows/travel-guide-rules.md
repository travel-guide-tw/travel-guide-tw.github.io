---
description: 旅遊指南內容編寫與維護規範
---

# 旅遊指南內容編寫與維護規範

此指引旨在確保旅遊指南內容的權威性、結構化以及 Git 儲存庫的整潔。

## 1. 內容與來源規範 (Official Sources Only)

- **嚴格限用官方連結**：所有外部連結必須指向官方網站（如 `.jp` 域名、景點官網、地方觀光協會、或 JNTO 日本國家旅遊局）。
- **禁止第三方個人網站**：嚴禁連結至個人旅遊部落格、心得分享網站或非官方的商業評論平台。
- **語言規範**：統一使用繁體中文 (zh-TW)。

## 2. 目錄結構規範

- **層級架構**：遵循 `docs/[國家]/[縣市]/[區域]/景點/[景點名稱].md` 的層級。
- **索引檔案**：每個區域（縣市、城市）層級必須包含：
  - `index.md`：該區域的總覽介紹。
  - `index.schema.json`：用於 SEO 的結構化資料。

## 3. 圖片處理規範

- **直接嵌入圖片**：頁面應直接嵌入圖片，確保使用者能直接看到景點外觀，避免使用「需點擊連結才能查看」的圖片庫連結。
- **版權與來源**：
  - **AI 生成圖片**：完全允許使用 AI 生成的景點示意圖，只要確保無版權爭議。
  - **官方圖片**：若有官方授權的直接圖片網址，亦可直接嵌入。
- **Git 零圖片政策**：雖然頁面需顯示圖片，但圖片檔案本身嚴禁提交至 Git 儲存庫。請使用外部圖片代管服務（如 Catbox）或直接引用穩定的外部網址。
- **工具支援**：若需獲取 Wikimedia Commons 的直接圖片連結，可使用專案內建腳本（支援檔案名稱或完整網址）：
  ```bash
  bun scripts/get-wikimedia-image.ts "File:檔案名稱.jpg"
  # 或
  bun scripts/get-wikimedia-image.ts "https://commons.wikimedia.org/wiki/File:..."
  ```

## 4. 頁面內容模板

每個景點頁面應包含以下標準區塊：

- **簡介**：景點的背景與基本描述。
- **景點特色**：以列點方式說明必看亮點。
- **門票資訊**：列出最新票價與分類。
- **交通手段**：從主要交通樞紐（如 JR 車站）前往的詳細步驟。
- **相關連結**：僅限官方網站。
- **地圖**：嵌入 Google Maps iframe，並確保包含 `allowfullscreen` 屬性。

## 5. SEO 與結構化資料規範

- **Schema 必備**：每個 `index.md` 必須配對一個 `index.schema.json`，內容需符合 Schema.org 的 `City` 或 `AdministrativeArea` 規範。
- **內部連結規範**：在索引頁面中引用景點時，必須使用**相對路徑**（例如 `[名稱](./景點/名稱)`），以確保 VitePress 渲染正確。

## 6. 技術與維護規範

- **Google Maps 標準化**：嵌入地圖時，標題統一使用 `## 地圖`，iframe 統一使用 `width="100%"` 與 `height="450"`，並確保包含 `allowfullscreen` 與 `loading="lazy"` 屬性。
- **資訊優先權**：內容應優先提供「交通手段」、「門票資訊」、「營業時間」與「官方連結」。**避免**加入過多主觀評論或非官方的旅遊心得。
- **目錄維護**：在進行區域重組或檔案移動後，應主動檢查並刪除空的舊目錄（如舊的 `景點/` 資料夾），保持專案結構整潔。
- **Git 操作限制**：除非使用者明確要求，否則禁止執行 `git` 相關指令（如 `git add`, `git commit`）。
- **自動修正與格式化**：在新增或修改檔案後，必須依序執行 `npm run correct`（修正中英文間距等）與 `npm run format`（Prettier 格式化），以確保內容與程式碼風格一致。
- **VitePress 相容性**：確保 Markdown 語法符合 VitePress 的擴充規範，特別是自定義組件或特殊屬性的處理。
- **建置檢查 (Build Check)**：在新增景點、修改連結或移動檔案後，**必須**執行 `npm run build` 以確認未引入任何無效連結 (Dead Links)。
- **禁止忽略錯誤**：嚴禁在 `config.ts` 中啟用 `ignoreDeadLinks: true`。所有建置時發現的無效連結必須透過「修正路徑」或「提供佔位檔案 (Placeholder)」來解決，以確保網站導覽完整性。
- **禁止使用 ASCII 編碼 (No Percent-Encoding for Language Chars)**：在 Markdown 連結與 `schema.json` 檔案中，對於非英文字元（如中文、日文）必須使用**原始字元**（如 `[中文](./中文)`），嚴禁使用 `%E...` 形式的 ASCII 百分比編碼。但對於標準符號如空格（`%20`）則允許保留編碼形式。這有利於內容維護與搜尋。
- **腳本開發規範 (Scripting Standards)**：
  - 嚴禁使用 Python 撰寫維護腳本。必須使用 **TypeScript (.ts)** 並放置於 `/scripts` 資料夾下，並使用 **Bun** 作為執行環境。
  - 進行網路請求時**必須**設定超時（Timeout，建議 10 秒）。
  - 連結檢查應考慮重新導向（3xx 狀態碼）為有效情況。
  - 替換內容時（如修正 URL），應對目標字串進行正則表達式轉義（Escape），避免特殊字元（如 `?`, `.`）造成錯誤替換。
- **內部連結強化 (Inner Connections)**：在編寫內容時，應主動搜尋並建立與其他相關頁面的連結（如：景點連往交通指南、區域連往鄰近區域）。確保資訊不是孤島，提升使用者導覽體驗。連結路徑建議省略 `index`，例如使用 `[名稱](../區域/)` 而非 `[名稱](../區域/)`。
- **網址嚴謹校對 (URL Verification)**：所有新增或修改的外部連結**必須**在更新檔案前，手動使用 `curl -I -L -A "Mozilla/5.0" [URL]` 確認其有效性與最終指向路徑。若發現 404 或重新導向，必須修正為最終有效的官方網址。嚴禁僅憑腳本自動檢查結果或直覺進行更新。
- **頁面排版整潔**：避免使用重複的分割線（`---`）或過多連續的空白行。
- **驗證工具 (Validation Tools)**：在準備提交 PR 前，建議執行以下指令進行檢查：
  - `npm run verify-links`：檢查外部連結有效性。
  - `npm run verify-images`：檢查圖片連結有效性。
- **在地化搜尋規範 (Local Language Search)**：當搜尋特定國家的景點、交通或活動資訊（如日本）時，**必須**優先使用該國官方語言（如日文）進行搜尋，以獲取最準確、最即時的官方網址與資訊。搜尋結果應與繁體中文頁面進行比對，確保連結指向的是正確的官方中文版（若有）或最終有效的官方入口。
- **Pull Request 規範**：在準備提交 PR 前，**必須**先閱讀並遵循 `.github/pull_request_template.md` 的格式要求。確保說明清晰、改動內容詳盡，並附上相關參考資料。
